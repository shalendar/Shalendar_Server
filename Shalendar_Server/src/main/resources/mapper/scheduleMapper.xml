<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="schedule">

	<!-- @@@@@@@@@@@@@@@cid, sid 부여 생각해봐야된다.@@@@@@@@@@@@@@@@@-->
	<!-- 전체 일정 보내 주기 -->
	<select id = "showAllSche" parameterType = "String" resultMap = "scheMap">
		select * from schedule where cid = #{cid}
	</select>
	
	<!-- 상세 일정 보내 주기 --> 
	<select id = "showSche" parameterType = "String" resultMap = "scheMap">
		select * from schedule where sid = #{sid}
	</select>
	
	<!-- 스케줄 생성 -->
	
	<insert id="createSche" parameterType = "sdto">
		insert into schedule (title,sContent,startDate,startTime,endDate,endTime,area)
		values (#{title},#{sContent},#{startDate},#{startTime},#{endDate},#{endTime},#{area})
	</insert>
	<!-- 스케줄 수정 -->
	<update id="updateSche" parameterType="String">
		update schedule set
		title=#{title},sContent=#{sContent},startDate=#{startDate},startTime=#{startTime},
		endDate=#{endDate},endTime=#{endTime},area=#{area}
		where sid = #{sid}
		<!-- update calendar set
		calName=#{updateCalName},calContent=#{calContent},img_url=#{img_url}
		where id=#{id} and calName=#{calName} -->
	</update>
	
	<!-- 스케줄 삭제 -->
	<delete id="deleteSche" parameterType="String">
		delete from schedule where sid = #{sid}
		<!-- delete from calendar where calName = #{calName} and
		id=#{id} -->
	</delete>

	<resultMap type="sdto" id="scheMap">
		<result property="cid" column="cid" />
		<result property="sid" column="sid" />
		<result property="title" column="title" />
		<result property="sContent" column="sContent" />
		<result property="startDate" column="startDate" />
		<result property="startTime" column="startTime" />
		<result property="endDate" column="endDate" />
		<result property="endTime" column="endTime" />
		<result property="area" column="area" />
	</resultMap>

</mapper>